<header ng-include="'/views/shared/header.html'"></header>

<div flex layout="row" layout-align="center center">
  <md-input-container class="md-block" flex-gt-sm>
    <label>First Name</label>
    <input ng-model="vm.rider.first_name">
  </md-input-container>
  <md-input-container class="md-block" flex-gt-sm>
    <label>Last Name</label>
    <input ng-model="vm.rider.last_name">
  </md-input-container>
  <md-input-container class="md-block" flex-gt-sm>
    <label>Member ID</label>
    <input ng-model="vm.rider.member_id">
  </md-input-container>
  <md-input-container class="md-block" flex-gt-sm>
    <md-button class="md-raised md-primary" ng-click="vm.findRider(vm.rider)">Submit</md-button>
  </md-input-container>
</div>
<div layout="horizontal" layout-align="center center">
  <table id="manageMemberTable">
    <thead>
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Member ID</th>
        <th>Current Role</th>
        <th>Role</th>
        <th>Rides</th>
        <th>Change Password</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="member in vm.riderInfo.list">
        <td>{{member.first_name}}</td>
        <td>{{member.last_name}}</td>
        <td>{{member.member_id}}</td>
        <td>{{member.role}}</td>
        <td>
          <md-select placeholder="Select Role" ng-model="vm.userRole">
            <md-option ng-repeat="roles in vm.getUserRoles.list" ng-value="roles">{{roles.role}}</md-option>
          </md-select>
          <md-button class="md-raised md-button" ng-click="vm.changeRole(roles)">Submit</md-button>
        </td>
        <td>
          <md-button class="md-raised md-button">View</md-button>
        </td>
        <td>
          <md-button class="md-raised md-button">Change Password</md-button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<form name="myForm" class="csvUpload" layout-align="center center">
  <label>
    <md-button class="md-icon-button" aria-label="More"
    type="file" 
    ngf-select 
    ng-model="vm.file" 
    name="file" 
    ngf-pattern="'.csv'"
    accept=".csv" 
    ngf-max-size="20MB"
    ngf-model-invalid="errorFile"
    required
    /><i class="material-icons md-24">add_circle_outline</i>
  </md-button>
    Upload Member Information - CSV File
    </label>
            <i ng-show="myForm.file.$error.maxSize">File too large 
                {{errorFile.size / 1000000|number:1}}MB: max 20MB</i>
            <img ng-show="myForm.file.$valid" ngf-thumbnail="file"> 
            <md-button class="md-warn" ng-click="file = null" ng-show="file">Remove</md-button>
            <br>
       
            <md-button class="md-raised md-primary" ng-disabled="!myForm.$valid" 
                    ng-click="vm.submit(vm.file)">Submit</md-button>
        </form>
</div>