<header ng-include="'/views/landing/landing.header.partial.html'"></header>
<md-content layout="row" flex>
  <div flex layout="row" layout-sm="column" layout-xs="column" layout-margin>
    <md-content class="home-rides-table" layout="row" flex-gt-sm="80" layout-align="space-around" layout-wrap>
      <div flex-xs="33"  flex-gt-sm="25">
        <md-input-container>
          <input  placeholder="Select a date" moment-picker="vm.selectedDate" locale="en" today="true" format="LL"
            start-view="month" min-date="vm.minDateString" ng-model="vm.query.date">
        </md-input-container>
      </div>
      <div flex-xs="33"  flex-gt-sm="25">
        <md-input-container>
          <input type="text" class="search" ng-model="vm.query.name" placeholder="Search for a ride">
        </md-input-container>
      </div>
      <div flex-xs="33"  flex-gt-sm="25">
        <md-select  aria-label="category-select" ng-model="vm.query.category" placeholder="Select a category">
          <md-option aria-label="category-select-options" ng-repeat="category in vm.categories.list" value="{{category}}">
            {{category.type}} - {{category.name}}
          </md-option>
        </md-select>
      </div>
      <div flex-xs="50"  flex-gt-sm="25">
        <div layout="row" layout-align="center center">
          <div class="md-block">
            <button class="md-raised md-primary md-button md-ink-ripple" ng-click="vm.clearFilters()" type="button" aria-label="clear-filters">Clear Filters</button>
          </div>
        </div>
      </div>
      <md-content layout="column" flex="100">
        <div layout="row" flex class="md-padding">
            <md-table-container style="width:100%;">
                <table md-table>
                  <thead md-head>
                    <tr md-row>
                      <th md-column md-order-by="date"><span>Date</span></th>
                      <th md-column md-order-by="name" md-numeric><span>Name</span></th>
                      <th md-column><span>Category</span></th>
                      <th md-column md-numeric><span>Details</span></th>
                    </tr>
                  </thead>
                  <tbody md-body>
                    <tr md-row ng-repeat="ride in vm.rides.list | filter: { rides_date: vm.query.date, rides_name: vm.query.name, rides_category: vm.query.category}">
                      <td md-cell>{{ride.rides_date}}</td>
                      <td md-cell>{{ride.rides_name}}</td>
                      <td md-cell>{{ride.rides_category}}</td>
                      <td md-cell>
                          <md-button style="border: 1px solid black;" ng-click="vm.rideDetailReveal(ride)" aria-label="details-button">Details Button</md-button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </md-table-container>
        </div>
      </md-content>
    </md-content>
    <md-content layout="row" flex-gt-sm="20" layout-align="space-around" layout-wrap>
      <md-content layout="column" flex="100" class="md-whiteframe-3dp">
        <h2>Category Key</h2>
        <ul ng-repeat="category in vm.categories.list">
          <li>{{category.type}} - {{category.name}}</li>
        </ul>
      </md-content>
    </md-content>
  </div>
</md-content>

